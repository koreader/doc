<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>KOReader Documentation</title>
    <link rel="stylesheet" href="../ldoc_fixed.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>KOReader</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/android.html">android</a></li>
  <li><a href="../modules/apps.filemanager.filemanagerbookinfo.html">apps.filemanager.filemanagerbookinfo</a></li>
  <li><a href="../modules/apps.filemanager.filemanagerconverter.html">apps.filemanager.filemanagerconverter</a></li>
  <li><a href="../modules/apps.filemanager.filemanagerutil.html">apps.filemanager.filemanagerutil</a></li>
  <li><a href="../modules/apps.filemanager.lib.md.html">apps.filemanager.lib.md</a></li>
  <li><a href="../modules/apps.reader.modules.readerlink.html">apps.reader.modules.readerlink</a></li>
  <li><a href="../modules/apps.reader.modules.readerview.html">apps.reader.modules.readerview</a></li>
  <li><a href="../modules/apps.reader.readerui.html">apps.reader.readerui</a></li>
  <li><a href="../modules/baseexporter.html">baseexporter</a></li>
  <li><a href="../modules/cache.html">cache</a></li>
  <li><a href="../modules/cacheitem.html">cacheitem</a></li>
  <li><a href="../modules/datetime.html">datetime</a></li>
  <li><a href="../modules/dbg.html">dbg</a></li>
  <li><a href="../modules/depgraph.html">depgraph</a></li>
  <li><a href="../modules/device.generic.device.html">device.generic.device</a></li>
  <li><a href="../modules/device.gesturedetector.html">device.gesturedetector</a></li>
  <li><a href="../modules/device.input.html">device.input</a></li>
  <li><a href="../modules/device.kindle.mockrtc.html">device.kindle.mockrtc</a></li>
  <li><a href="../modules/device.kobo.nickel_conf.html">device.kobo.nickel_conf</a></li>
  <li><a href="../modules/device.sysfs_light.html">device.sysfs_light</a></li>
  <li><strong>device.wakeupmgr</strong></li>
  <li><a href="../modules/dispatcher.html">dispatcher</a></li>
  <li><a href="../modules/docsettings.html">docsettings</a></li>
  <li><a href="../modules/document.doccache.html">document.doccache</a></li>
  <li><a href="../modules/document.documentregistry.html">document.documentregistry</a></li>
  <li><a href="../modules/document.koptinterface.html">document.koptinterface</a></li>
  <li><a href="../modules/dump.html">dump</a></li>
  <li><a href="../modules/ffi.blitbuffer.html">ffi.blitbuffer</a></li>
  <li><a href="../modules/ffi.crypto.html">ffi.crypto</a></li>
  <li><a href="../modules/ffi.framebuffer.html">ffi.framebuffer</a></li>
  <li><a href="../modules/ffi.freetype.html">ffi.freetype</a></li>
  <li><a href="../modules/ffi.jpeg.html">ffi.jpeg</a></li>
  <li><a href="../modules/ffi.koptcontext.html">ffi.koptcontext</a></li>
  <li><a href="../modules/ffi.loadlib.html">ffi.loadlib</a></li>
  <li><a href="../modules/ffi.md5.html">ffi.md5</a></li>
  <li><a href="../modules/ffi.mupdf.html">ffi.mupdf</a></li>
  <li><a href="../modules/ffi.png.html">ffi.png</a></li>
  <li><a href="../modules/ffi.rtc.html">ffi.rtc</a></li>
  <li><a href="../modules/ffi.sdl2_0.html">ffi.sdl2_0</a></li>
  <li><a href="../modules/ffi.utf8proc.html">ffi.utf8proc</a></li>
  <li><a href="../modules/ffi.util.html">ffi.util</a></li>
  <li><a href="../modules/ffi.webp.html">ffi.webp</a></li>
  <li><a href="../modules/ffi.zipwriter.html">ffi.zipwriter</a></li>
  <li><a href="../modules/ffi.zlib.html">ffi.zlib</a></li>
  <li><a href="../modules/ffi.zstd.html">ffi.zstd</a></li>
  <li><a href="../modules/gettext.html">gettext</a></li>
  <li><a href="../modules/koplugin.HelloWorld.html">koplugin.HelloWorld</a></li>
  <li><a href="../modules/koplugin.QRClipboard.html">koplugin.QRClipboard</a></li>
  <li><a href="../modules/koplugin.autodim.html">koplugin.autodim</a></li>
  <li><a href="../modules/koplugin.autowarmth.html">koplugin.autowarmth</a></li>
  <li><a href="../modules/koplugin.calibre.metadata.html">koplugin.calibre.metadata</a></li>
  <li><a href="../modules/koplugin.coverimage.html">koplugin.coverimage</a></li>
  <li><a href="../modules/koplugin.exporter.html">koplugin.exporter</a></li>
  <li><a href="../modules/koplugin.japanese.html">koplugin.japanese</a></li>
  <li><a href="../modules/koplugin.japanese.deinflector.html">koplugin.japanese.deinflector</a></li>
  <li><a href="../modules/koplugin.patchmanagement.html">koplugin.patchmanagement</a></li>
  <li><a href="../modules/koplugin.terminal.html">koplugin.terminal</a></li>
  <li><a href="../modules/koplugin.terminal.html">koplugin.terminal</a></li>
  <li><a href="../modules/koplugin.vocabbuilder.html">koplugin.vocabbuilder</a></li>
  <li><a href="../modules/koplugin.wallabag.html">koplugin.wallabag</a></li>
  <li><a href="../modules/languagesupport.html">languagesupport</a></li>
  <li><a href="../modules/logger.html">logger</a></li>
  <li><a href="../modules/luadata.html">luadata</a></li>
  <li><a href="../modules/luadefaults.html">luadefaults</a></li>
  <li><a href="../modules/luasettings.html">luasettings</a></li>
  <li><a href="../modules/optmath.html">optmath</a></li>
  <li><a href="../modules/random.html">random</a></li>
  <li><a href="../modules/socketutil.html">socketutil</a></li>
  <li><a href="../modules/sort.html">sort</a></li>
  <li><a href="../modules/suntime.html">suntime</a></li>
  <li><a href="../modules/time.html">time</a></li>
  <li><a href="../modules/ui.bidi.html">ui.bidi</a></li>
  <li><a href="../modules/ui.data.css_tweaks.html">ui.data.css_tweaks</a></li>
  <li><a href="../modules/ui.data.keyboardlayouts.generic_ime.html">ui.data.keyboardlayouts.generic_ime</a></li>
  <li><a href="../modules/ui.data.keyboardlayouts.ja_keyboard.html">ui.data.keyboardlayouts.ja_keyboard</a></li>
  <li><a href="../modules/ui.data.keyboardlayouts.ja_keyboard_keys.html">ui.data.keyboardlayouts.ja_keyboard_keys</a></li>
  <li><a href="../modules/ui.data.keyboardlayouts.ko_KR_helper.html">ui.data.keyboardlayouts.ko_KR_helper</a></li>
  <li><a href="../modules/ui.data.keyboardlayouts.zh_keyboard.html">ui.data.keyboardlayouts.zh_keyboard</a></li>
  <li><a href="../modules/ui.data.optionsutil.html">ui.data.optionsutil</a></li>
  <li><a href="../modules/ui.downloadmgr.html">ui.downloadmgr</a></li>
  <li><a href="../modules/ui.event.html">ui.event</a></li>
  <li><a href="../modules/ui.font.html">ui.font</a></li>
  <li><a href="../modules/ui.geometry.html">ui.geometry</a></li>
  <li><a href="../modules/ui.hook_container.html">ui.hook_container</a></li>
  <li><a href="../modules/ui.menusorter.html">ui.menusorter</a></li>
  <li><a href="../modules/ui.network.wpa_supplicant.html">ui.network.wpa_supplicant</a></li>
  <li><a href="../modules/ui.otamanager.html">ui.otamanager</a></li>
  <li><a href="../modules/ui.plugin.background_task_plugin.html">ui.plugin.background_task_plugin</a></li>
  <li><a href="../modules/ui.plugin.switch_plugin.html">ui.plugin.switch_plugin</a></li>
  <li><a href="../modules/ui.quickstart.html">ui.quickstart</a></li>
  <li><a href="../modules/ui.renderimage.html">ui.renderimage</a></li>
  <li><a href="../modules/ui.rendertext.html">ui.rendertext</a></li>
  <li><a href="../modules/ui.size.html">ui.size</a></li>
  <li><a href="../modules/ui.translator.html">ui.translator</a></li>
  <li><a href="../modules/ui.trapper.html">ui.trapper</a></li>
  <li><a href="../modules/ui.uimanager.html">ui.uimanager</a></li>
  <li><a href="../modules/ui.viewhtml.html">ui.viewhtml</a></li>
  <li><a href="../modules/ui.widget.bboxwidget.html">ui.widget.bboxwidget</a></li>
  <li><a href="../modules/ui.widget.button.html">ui.widget.button</a></li>
  <li><a href="../modules/ui.widget.buttondialog.html">ui.widget.buttondialog</a></li>
  <li><a href="../modules/ui.widget.checkbutton.html">ui.widget.checkbutton</a></li>
  <li><a href="../modules/ui.widget.checkmark.html">ui.widget.checkmark</a></li>
  <li><a href="../modules/ui.widget.confirmbox.html">ui.widget.confirmbox</a></li>
  <li><a href="../modules/ui.widget.container.alphacontainer.html">ui.widget.container.alphacontainer</a></li>
  <li><a href="../modules/ui.widget.container.bottomcontainer.html">ui.widget.container.bottomcontainer</a></li>
  <li><a href="../modules/ui.widget.container.centercontainer.html">ui.widget.container.centercontainer</a></li>
  <li><a href="../modules/ui.widget.container.framecontainer.html">ui.widget.container.framecontainer</a></li>
  <li><a href="../modules/ui.widget.container.inputcontainer.html">ui.widget.container.inputcontainer</a></li>
  <li><a href="../modules/ui.widget.container.leftcontainer.html">ui.widget.container.leftcontainer</a></li>
  <li><a href="../modules/ui.widget.container.movablecontainer.html">ui.widget.container.movablecontainer</a></li>
  <li><a href="../modules/ui.widget.container.rightcontainer.html">ui.widget.container.rightcontainer</a></li>
  <li><a href="../modules/ui.widget.container.scrollablecontainer.html">ui.widget.container.scrollablecontainer</a></li>
  <li><a href="../modules/ui.widget.container.topcontainer.html">ui.widget.container.topcontainer</a></li>
  <li><a href="../modules/ui.widget.container.underlinecontainer.html">ui.widget.container.underlinecontainer</a></li>
  <li><a href="../modules/ui.widget.container.widgetcontainer.html">ui.widget.container.widgetcontainer</a></li>
  <li><a href="../modules/ui.widget.datetimewidget.html">ui.widget.datetimewidget</a></li>
  <li><a href="../modules/ui.widget.eventlistener.html">ui.widget.eventlistener</a></li>
  <li><a href="../modules/ui.widget.horizontalgroup.html">ui.widget.horizontalgroup</a></li>
  <li><a href="../modules/ui.widget.htmlboxwidget.html">ui.widget.htmlboxwidget</a></li>
  <li><a href="../modules/ui.widget.iconbutton.html">ui.widget.iconbutton</a></li>
  <li><a href="../modules/ui.widget.iconwidget.html">ui.widget.iconwidget</a></li>
  <li><a href="../modules/ui.widget.imageviewer.html">ui.widget.imageviewer</a></li>
  <li><a href="../modules/ui.widget.imagewidget.html">ui.widget.imagewidget</a></li>
  <li><a href="../modules/ui.widget.infomessage.html">ui.widget.infomessage</a></li>
  <li><a href="../modules/ui.widget.inputdialog.html">ui.widget.inputdialog</a></li>
  <li><a href="../modules/ui.widget.keyboardlayoutdialog.html">ui.widget.keyboardlayoutdialog</a></li>
  <li><a href="../modules/ui.widget.keyvaluepage.html">ui.widget.keyvaluepage</a></li>
  <li><a href="../modules/ui.widget.linewidget.html">ui.widget.linewidget</a></li>
  <li><a href="../modules/ui.widget.listview.html">ui.widget.listview</a></li>
  <li><a href="../modules/ui.widget.multiconfirmbox.html">ui.widget.multiconfirmbox</a></li>
  <li><a href="../modules/ui.widget.multiinputdialog.html">ui.widget.multiinputdialog</a></li>
  <li><a href="../modules/ui.widget.networksetting.html">ui.widget.networksetting</a></li>
  <li><a href="../modules/ui.widget.notification.html">ui.widget.notification</a></li>
  <li><a href="../modules/ui.widget.numberpickerwidget.html">ui.widget.numberpickerwidget</a></li>
  <li><a href="../modules/ui.widget.openwithdialog.html">ui.widget.openwithdialog</a></li>
  <li><a href="../modules/ui.widget.overlapgroup.html">ui.widget.overlapgroup</a></li>
  <li><a href="../modules/ui.widget.progresswidget.html">ui.widget.progresswidget</a></li>
  <li><a href="../modules/ui.widget.qrmessage.html">ui.widget.qrmessage</a></li>
  <li><a href="../modules/ui.widget.radiobuttontable.html">ui.widget.radiobuttontable</a></li>
  <li><a href="../modules/ui.widget.radiobuttonwidget.html">ui.widget.radiobuttonwidget</a></li>
  <li><a href="../modules/ui.widget.scrollhtmlwidget.html">ui.widget.scrollhtmlwidget</a></li>
  <li><a href="../modules/ui.widget.scrolltextwidget.html">ui.widget.scrolltextwidget</a></li>
  <li><a href="../modules/ui.widget.textboxwidget.html">ui.widget.textboxwidget</a></li>
  <li><a href="../modules/ui.widget.textviewer.html">ui.widget.textviewer</a></li>
  <li><a href="../modules/ui.widget.textwidget.html">ui.widget.textwidget</a></li>
  <li><a href="../modules/ui.widget.toggleswitch.html">ui.widget.toggleswitch</a></li>
  <li><a href="../modules/ui.widget.touchmenu.html">ui.widget.touchmenu</a></li>
  <li><a href="../modules/ui.widget.trapwidget.html">ui.widget.trapwidget</a></li>
  <li><a href="../modules/ui.widget.verticalgroup.html">ui.widget.verticalgroup</a></li>
  <li><a href="../modules/ui.widget.widget.html">ui.widget.widget</a></li>
  <li><a href="../modules/userpatch.html">userpatch</a></li>
  <li><a href="../modules/util.html">util</a></li>
  <li><a href="../modules/version.html">version</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/Collaborating_with_Git.md.html">Collaborating with Git</a></li>
  <li><a href="../topics/DataStore.md.html">DataStore</a></li>
  <li><a href="../topics/Development_guide.md.html">Development Guide</a></li>
  <li><a href="../topics/Events.md.html">Events</a></li>
  <li><a href="../topics/Hacking.md.html">Hacking</a></li>
  <li><a href="../topics/Porting.md.html">Porting</a></li>
  <li><a href="../topics/README.md.html">README</a></li>
  <li><a href="../topics/Unit_tests.md.html">Unit Tests</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>device.wakeupmgr</code></h1>
<p>RTC wakeup interface.</p>
<p>Many devices can schedule hardware wakeups with a real time clock alarm.
On embedded devices this can typically be easily manipulated by the user
through <code>/sys/class/rtc/rtc0/wakealarm</code>. Some, like the Kobo Aura H2O,
can only schedule wakeups through ioctl.</p>

<p>See <a href="../modules/ffi.rtc.html#">ffi.rtc</a> for implementation details.</p>

<p>See also: <a href="https://linux.die.net/man/4/rtc">https://linux.die.net/man/4/rtc</a>.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:new">WakeupMgr:new (o)</a></td>
	<td class="summary">Initiate a WakeupMgr instance.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:addTask">WakeupMgr:addTask (seconds_from_now, callback)</a></td>
	<td class="summary">Add a task to the queue.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:removeTasks">WakeupMgr:removeTasks (epoch, callback)</a></td>
	<td class="summary">Remove task(s) from queue.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:removeTask">WakeupMgr:removeTask (idx)</a></td>
	<td class="summary">Variant of <a href="../modules/device.wakeupmgr.html#WakeupMgr:removeTasks">removeTasks</a> that will only remove a single task, identified by its task queue index.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:wakeupAction">WakeupMgr:wakeupAction (proximity)</a></td>
	<td class="summary">Execute wakeup action.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:setWakeupAlarm">WakeupMgr:setWakeupAlarm (epoch, enabled)</a></td>
	<td class="summary">Set wakeup alarm.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:unsetWakeupAlarm">WakeupMgr:unsetWakeupAlarm ()</a></td>
	<td class="summary">Unset wakeup alarm.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:getWakeupAlarm">WakeupMgr:getWakeupAlarm ()</a></td>
	<td class="summary">Get wakealarm as set by us.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:getWakeupAlarmEpoch">WakeupMgr:getWakeupAlarmEpoch ()</a></td>
	<td class="summary">Get wakealarm epoch as set by us.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:getWakeupAlarmSys">WakeupMgr:getWakeupAlarmSys ()</a></td>
	<td class="summary">Get RTC wakealarm from system.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:validateWakeupAlarmByProximity">WakeupMgr:validateWakeupAlarmByProximity (task_alarm_epoch, proximity)</a></td>
	<td class="summary">Validate wakeup alarm.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr:isWakeupAlarmScheduled">WakeupMgr:isWakeupAlarmScheduled ()</a></td>
	<td class="summary">Check if a wakeup is scheduled.</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#WakeupMgr">WakeupMgr</a></td>
	<td class="summary">WakeupMgr base class.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "WakeupMgr:new"></a>
    <strong>WakeupMgr:new (o)</strong>
    </dt>
    <dd>
    Initiate a WakeupMgr instance.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">o</span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> WakeupMgr = <span class="global">require</span>(<span class="string">"device/wakeupmgr"</span>)
<span class="keyword">local</span> wakeup_mgr = WakeupMgr:<span class="function-name">new</span>{
    <span class="comment">-- The default is <code>/dev/rtc0</code>, but some devices have more than one RTC.
</span>    <span class="comment">-- You might therefore need to use <code>/dev/rtc1</code>, etc.
</span>    dev_rtc = <span class="string">"/dev/rtc0"</span>,
}</pre>
    </ul>

</dd>
    <dt>
    <a name = "WakeupMgr:addTask"></a>
    <strong>WakeupMgr:addTask (seconds_from_now, callback)</strong>
    </dt>
    <dd>
    Add a task to the queue.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seconds_from_now</span>



        </li>
        <li><span class="parameter">callback</span>
        Make sure we passed valid input, so that stuff doesn't break in fun and interesting ways (especially in removeTasks).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "WakeupMgr:removeTasks"></a>
    <strong>WakeupMgr:removeTasks (epoch, callback)</strong>
    </dt>
    <dd>
    Remove task(s) from queue. </p>

<p>This method removes one or more tasks by either scheduled time or callback.
If any tasks are left on exit, the upcoming one will automatically be scheduled (if necessary).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">epoch</span>
            <span class="types"><span class="type">integer</span></span>
         The epoch for when this task is scheduled to wake up.
Normally the preferred method for outside callers.
        </li>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">integer</span></span>
         A scheduled callback function. Store a reference for use
with anonymous functions.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        (true if one or more tasks were removed; false otherwise; nil if the task queue is empty).
    </ol>




</dd>
    <dt>
    <a name = "WakeupMgr:removeTask"></a>
    <strong>WakeupMgr:removeTask (idx)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/device.wakeupmgr.html#WakeupMgr:removeTasks">removeTasks</a> that will only remove a single task, identified by its task queue index.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">idx</span>
            <span class="types"><span class="type">integer</span></span>
         Task queue index. Mainly useful within this module.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        (true if a task was removed; false otherwise).
    </ol>




</dd>
    <dt>
    <a name = "WakeupMgr:wakeupAction"></a>
    <strong>WakeupMgr:wakeupAction (proximity)</strong>
    </dt>
    <dd>
    Execute wakeup action. </p>

<p>This method should be called by the device resume logic in case of a scheduled wakeup.</p>

<p>It checks if the wakeup was scheduled by us using <a href="../modules/device.wakeupmgr.html#WakeupMgr:validateWakeupAlarmByProximity">validateWakeupAlarmByProximity</a>,
in which case the task is executed.</p>

<p>If necessary, the next upcoming task (if any) is scheduled on exit.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">proximity</span>
            <span class="types"><span class="type">integer</span></span>
         Proximity window to the scheduled wakeup (passed to <a href="../modules/device.wakeupmgr.html#WakeupMgr:validateWakeupAlarmByProximity">validateWakeupAlarmByProximity</a>).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        (true if we were truly woken up by the scheduled wakeup; false otherwise; nil if there weren't any tasks scheduled).
    </ol>




</dd>
    <dt>
    <a name = "WakeupMgr:setWakeupAlarm"></a>
    <strong>WakeupMgr:setWakeupAlarm (epoch, enabled)</strong>
    </dt>
    <dd>
    Set wakeup alarm. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:setWakeupAlarm">ffi.rtc.setWakeupAlarm</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">epoch</span>



        </li>
        <li><span class="parameter">enabled</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "WakeupMgr:unsetWakeupAlarm"></a>
    <strong>WakeupMgr:unsetWakeupAlarm ()</strong>
    </dt>
    <dd>
    Unset wakeup alarm. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:unsetWakeupAlarm">ffi.rtc.unsetWakeupAlarm</a>.







</dd>
    <dt>
    <a name = "WakeupMgr:getWakeupAlarm"></a>
    <strong>WakeupMgr:getWakeupAlarm ()</strong>
    </dt>
    <dd>
    Get wakealarm as set by us. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:getWakeupAlarm">ffi.rtc.getWakeupAlarm</a>.







</dd>
    <dt>
    <a name = "WakeupMgr:getWakeupAlarmEpoch"></a>
    <strong>WakeupMgr:getWakeupAlarmEpoch ()</strong>
    </dt>
    <dd>
    Get wakealarm epoch as set by us. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:getWakeupAlarmEpoch">ffi.rtc.getWakeupAlarmEpoch</a>.







</dd>
    <dt>
    <a name = "WakeupMgr:getWakeupAlarmSys"></a>
    <strong>WakeupMgr:getWakeupAlarmSys ()</strong>
    </dt>
    <dd>
    Get RTC wakealarm from system. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:getWakeupAlarmSys">ffi.rtc.getWakeupAlarmSys</a>.







</dd>
    <dt>
    <a name = "WakeupMgr:validateWakeupAlarmByProximity"></a>
    <strong>WakeupMgr:validateWakeupAlarmByProximity (task_alarm_epoch, proximity)</strong>
    </dt>
    <dd>
    Validate wakeup alarm. </p>

<p>Checks if we set the alarm.</p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:validateWakeupAlarmByProximity">ffi.rtc.validateWakeupAlarmByProximity</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">task_alarm_epoch</span>



        </li>
        <li><span class="parameter">proximity</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "WakeupMgr:isWakeupAlarmScheduled"></a>
    <strong>WakeupMgr:isWakeupAlarmScheduled ()</strong>
    </dt>
    <dd>
    Check if a wakeup is scheduled. </p>

<p>Simple wrapper for <a href="../modules/ffi.rtc.html#RTC:isWakeupAlarmScheduled">ffi.rtc.isWakeupAlarmScheduled</a>.







</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "WakeupMgr"></a>
    <strong>WakeupMgr</strong>
    </dt>
    <dd>
    WakeupMgr base class.


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">dev_rtc</span>
        RTC device
        </li>
        <li><span class="parameter">_task_queue</span>
        Table with epoch at which to schedule the task and the function to be scheduled.
        </li>
        <li><span class="parameter">rtc</span>
        The RTC implementation to use, defaults to the RTC module.
        </li>
        <li><span class="parameter">dodgy_rtc</span>
        If the RTC has trouble with timers further away than UINT16_MAX (e.g., on i.MX5).
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-10-24 08:59:32 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
